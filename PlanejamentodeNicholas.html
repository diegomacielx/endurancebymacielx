<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Infogr√°fico: Prepara√ß√£o TAF - 2100m em 12min</title>
    <!-- Carrega Tailwind CSS para estiliza√ß√£o r√°pida e responsiva -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Carrega Chart.js para gr√°ficos -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Carrega a fonte Roboto do Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700;900&display=swap" rel="stylesheet">
    <style>
        /* Estilos globais para o corpo do documento */
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #000000; /* Fundo preto conforme o branding */
        }
        /* Estilo para o t√≠tulo principal */
        .main-title {
            color: #EF4444; /* Vermelho vibrante para destaque */
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5); /* Sombra para profundidade */
        }
        /* Estilo para os cart√µes de conte√∫do */
        .card {
            background-color: #1F2937; /* Cinza escuro para os cart√µes */
            border-left: 4px solid #EF4444; /* Borda esquerda vermelha para branding */
        }
        /* Estilo para os √≠cones dentro dos cart√µes */
        .icon {
            color: #EF4444; /* √çcones em vermelho */
        }
        /* Estilos para o container dos gr√°ficos, garantindo responsividade */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px; /* Largura m√°xima para centraliza√ß√£o */
            margin-left: auto;
            margin-right: auto;
            height: 300px; /* Altura padr√£o */
            max-height: 400px;
        }
        /* Ajuste de altura para gr√°ficos em telas maiores */
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        /* Estilo para o bot√£o de navega√ß√£o */
        .nav-button {
            background-color: #EF4444;
            color: white;
            padding: 12px 24px;
            border-radius: 9999px;
            font-weight: 700;
            transition: background-color 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            display: inline-block; /* Para centralizar */
            margin-top: 2rem;
        }
        .nav-button:hover {
            background-color: #DC2626;
        }

        /* Estilos para a p√°gina do temporizador */
        .timer-page {
            display: none; /* Escondido por padr√£o */
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 1rem;
        }

        .timer-display {
            font-size: 5rem; /* Tamanho grande para o timer */
            font-weight: 900;
            /* Cor ser√° definida dinamicamente via JS/Tailwind */
            text-shadow: 3px 3px 6px rgba(0,0,0,0.7);
            margin-bottom: 1rem;
        }

        .phase-display {
            font-size: 2.5rem;
            font-weight: 700;
            color: #D1D5DB;
            margin-bottom: 0.5rem;
        }

        .set-display {
            font-size: 1.5rem;
            color: #9CA3AF;
            margin-bottom: 2rem;
        }

        .timer-controls button {
            background-color: #1F2937;
            color: #EF4444;
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: 700;
            margin: 0.5rem; /* Margem para espa√ßamento entre bot√µes */
            transition: background-color 0.3s ease, color 0.3s ease;
            border: 2px solid #EF4444;
            flex-grow: 1; /* Permite que os bot√µes cres√ßam e ocupem espa√ßo */
            min-width: 100px; /* Largura m√≠nima para evitar que fiquem muito pequenos */
        }
        .timer-controls button:hover:not(:disabled) {
            background-color: #EF4444;
            color: white;
        }
        .timer-controls button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .config-section {
            background-color: #1F2937;
            padding: 1.5rem;
            border-radius: 12px;
            margin-top: 2rem;
            width: 100%;
            max-width: 700px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.3);
            border: 1px solid #EF4444;
        }

        .phase-item {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            align-items: flex-end; /* Alinha os itens pela base (inputs e bot√£o) */
            margin-bottom: 1rem;
            padding: 0.75rem;
            background-color: #2D3748;
            border-radius: 8px;
            border: 1px solid #4A5568;
        }
        .phase-item > div { /* Para os grupos de label e input */
            display: flex;
            flex-direction: column;
            flex-grow: 1;
        }
        
        /* CORRE√á√ÉO APLICADA AQUI */
        .phase-item input[type="text"],
        .phase-item input[type="number"],
        .phase-item select,
        .config-section select { /* Regra adicionada para os seletores de semana/dia */
            background-color: #4A5568;
            color: white;
            border: 1px solid #6B7280;
            padding: 0.5rem;
            border-radius: 4px;
            width: 100%;
        }

        .phase-item button.remove-phase-btn {
            background-color: #EF4444;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            font-weight: 600;
            transition: background-color 0.3s ease;
            height: fit-content; /* Alinha a altura com os inputs */
        }
        .phase-item button.remove-phase-btn:hover {
            background-color: #DC2626;
        }

        .add-phase-btn {
            background-color: #4CAF50; /* Verde para adicionar */
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            font-weight: 700;
            margin-top: 1rem;
            transition: background-color 0.3s ease;
        }
        .add-phase-btn:hover {
            background-color: #45a049;
        }
        .save-load-buttons button {
            background-color: #3B82F6; /* Azul para salvar/carregar */
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            font-weight: 700;
            margin: 0.5rem;
            transition: background-color 0.3s ease;
        }
        .save-load-buttons button:hover {
            background-color: #2563EB;
        }

        /* Responsividade para a cria√ß√£o de fases */
        @media (max-width: 767px) {
            .phase-item {
                flex-direction: column; /* Empilha os inputs em telas pequenas */
                align-items: stretch; /* Estica os itens para ocupar a largura total */
            }
            .phase-item > div, .phase-item button {
                width: 100%; /* Garante que todos os elementos ocupem a largura total */
            }
        }
    </style>
</head>
<body class="text-gray-200">

    <!-- P√°gina do Infogr√°fico Principal -->
    <div id="main-infographic-page" class="container mx-auto p-4 md:p-8">

        <!-- Cabe√ßalho do infogr√°fico -->
        <header class="mb-12">
            <div class="w-full">
                <!-- Logotipo do utilizador -->
                <div class="mb-12 text-center">
                    <img id="userLogo" src="https://i.imgur.com/rLLYQ3Z.png" alt="Sua Logo" class="inline-block rounded-lg shadow-md" style="max-width: 150px; height: auto;">
                    <p class="text-xl font-bold text-white mt-2">Consultoria Esportiva Premium</p>
                </div>
                <!-- Informa√ß√µes do aluno e objetivo -->
                <div class="text-left mb-10">
                    <p class="text-md md:text-lg text-gray-400">Aluno: Nicholas De Souza Lopes</p>
                    <p class="text-md md:text-lg text-gray-400">Objetivo: Superar 2100m em 12min (TAF - 10 NOV 2025)</p>
                </div>
            </div>
            <!-- T√≠tulo principal do infogr√°fico -->
            <div class="text-center mt-8">
                <h1 class="text-4xl md:text-6xl font-black main-title mb-2">SUA JORNADA PARA O TAF: RESIST√äNCIA E VELOCIDADE</h1>
            </div>
        </header>

        <!-- Sec√ß√£o "Entendendo Seu Treino de Endurance" -->
        <section id="understanding" class="mb-16">
            <h2 class="text-3xl font-bold text-center mb-8 text-white">Entendendo seu treino de endurance</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <!-- Cart√£o: Corrida Cont√≠nua -->
                <div class="card p-6 rounded-lg shadow-lg text-center">
                    <div class="icon text-4xl mb-3">üèÉ</div>
                    <h3 class="font-bold text-xl mb-2 text-white">Corrida Cont√≠nua (CC)</h3>
                    <p class="text-gray-400">Ritmo leve e confort√°vel (PSE 2-4). Foco na base aer√≥bica.</p>
                </div>
                <!-- Cart√£o: Treino de Tempo -->
                <div class="card p-6 rounded-lg shadow-lg text-center">
                    <div class="icon text-4xl mb-3">‚è±Ô∏è</div>
                    <h3 class="font-bold text-xl mb-2 text-white">Treino de Tempo (TT)</h3>
                    <p class="text-gray-400">Ritmo moderado a forte (PSE 5-7). Sustent√°vel, desafiador.</p>
                </div>
                <!-- Cart√£o: Treino Intervalado -->
                <div class="card p-6 rounded-lg shadow-lg text-center">
                    <div class="icon text-4xl mb-3">‚ö°</div>
                    <h3 class="font-bold text-xl mb-2 text-white">Treino Intervalado (TI)</h3>
                    <p class="text-gray-400">Tiros de alta intensidade (PSE 8-9) com recupera√ß√£o ativa.</p>
                </div>
                <!-- Cart√£o: Treino Ritmo TAF -->
                <div class="card p-6 rounded-lg shadow-lg text-center">
                    <div class="icon text-4xl mb-3">üéØ</div>
                    <h3 class="font-bold text-xl mb-2 text-white">Treino Ritmo TAF (TR-TAF)</h3>
                    <p class="text-gray-400">Simula√ß√µes de trechos no ritmo alvo de 5:42 min/km.</p>
                </div>
            </div>
        </section>

        <!-- Nova se√ß√£o para a Escala de Borg CR10 -->
        <section id="borg-scale" class="mb-16">
            <h2 class="text-3xl font-bold text-center mb-8 text-white">Escala de percep√ß√£o subjetiva de esfor√ßo (PSE) - Borg CR10 (0-10)</h2>
            <p class="text-center max-w-3xl mx-auto mb-10 text-gray-300">Use esta escala para autoavaliar a intensidade do seu esfor√ßo durante os treinos, combinando sensa√ß√µes de respira√ß√£o, batimentos card√≠acos e fadiga muscular.</p>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="card p-6 rounded-lg shadow-lg">
                    <h3 class="font-bold text-xl mb-2 text-white">üü¢ 0 ‚Äì Nada de esfor√ßo</h3>
                    <p class="text-gray-400">Sensa√ß√£o: Repouso absoluto. Voc√™ est√° completamente relaxado, sem nenhuma atividade f√≠sica.<br>Exemplo na corrida: N√£o aplic√°vel (est√° em repouso).</p>
                </div>
                <div class="card p-6 rounded-lg shadow-lg">
                    <h3 class="font-bold text-xl mb-2 text-white">üîµ 0.5 ‚Äì Muito, muito leve</h3>
                    <p class="text-gray-400">Sensa√ß√£o: Praticamente nenhum esfor√ßo. A sensa√ß√£o √© quase impercept√≠vel, como se voc√™ estivesse parado.<br>Exemplo na corrida: Caminhada extremamente lenta e tranquila.</p>
                </div>
                <div class="card p-6 rounded-lg shadow-lg">
                    <h3 class="font-bold text-xl mb-2 text-white">üîµ 1 ‚Äì Muito leve</h3>
                    <p class="text-gray-400">Sensa√ß√£o: Esfor√ßo m√≠nimo, quase despreocupado. Voc√™ pode conversar e cantar com facilidade.<br>Exemplo na corrida: Caminhada suave, aquecimento bem leve.</p>
                </div>
                <div class="card p-6 rounded-lg shadow-lg">
                    <h3 class="font-bold text-xl mb-2 text-white">üåø 2 ‚Äì Leve</h3>
                    <p class="text-gray-400">Sensa√ß√£o: Atividade tranquila e confort√°vel. Respira√ß√£o aumenta levemente, mas ainda h√° total controle. √â poss√≠vel falar sem esfor√ßo.<br>Exemplo na corrida: Trote bem leve ou corrida de recupera√ß√£o.</p>
                </div>
                <div class="card p-6 rounded-lg shadow-lg">
                    <h3 class="font-bold text-xl mb-2 text-white">üü° 3 ‚Äì Moderado</h3>
                    <p class="text-gray-400">Sensa√ß√£o: Um esfor√ßo constante, mas sustent√°vel por longos per√≠odos. A respira√ß√£o fica mais profunda, mas voc√™ ainda consegue manter uma conversa sem dificuldade.<br>Exemplo na corrida: Corrida em ritmo conversacional, treino leve.</p>
                </div>
                <div class="card p-6 rounded-lg shadow-lg">
                    <h3 class="font-bold text-xl mb-2 text-white">üü° 4 ‚Äì Um pouco forte</h3>
                    <p class="text-gray-400">Sensa√ß√£o: O esfor√ßo come√ßa a ser not√°vel. A respira√ß√£o acelera e falar passa a exigir um pouco de aten√ß√£o.<br>Exemplo na corrida: Ritmo constante, um pouco mais r√°pido do que o normal.</p>
                </div>
                <div class="card p-6 rounded-lg shadow-lg">
                    <h3 class="font-bold text-xl mb-2 text-white">‚ö†Ô∏è 5 ‚Äì Forte</h3>
                    <p class="text-gray-400">Sensa√ß√£o: Desafiador, mas ainda sustent√°vel. Falar torna-se dif√≠cil; voc√™ s√≥ consegue dizer algumas palavras entre as respira√ß√µes.<br>Exemplo na corrida: Ritmo pr√≥ximo ao de maratona ou meia maratona (para corredores experientes).</p>
                </div>
                <div class="card p-6 rounded-lg shadow-lg">
                    <h3 class="font-bold text-xl mb-2 text-white">‚ö†Ô∏è 6 ‚Äì Forte (quase muito forte)</h3>
                    <p class="text-gray-400">Sensa√ß√£o: Esfor√ßo intenso. Falar √© limitado a uma ou duas palavras por vez. A respira√ß√£o est√° pesada e r√°pida.<br>Exemplo na corrida: Ritmo de 10 km ou trabalho no limiar anaer√≥bico.</p>
                </div>
                <div class="card p-6 rounded-lg shadow-lg">
                    <h3 class="font-bold text-xl mb-2 text-white">üî¥ 7 ‚Äì Muito forte</h3>
                    <p class="text-gray-400">Sensa√ß√£o: Extremamente desafiador. Voc√™ est√° pr√≥ximo ao seu limite de fala e consegue apenas emitir sons ou palavras curtas.<br>Exemplo na corrida: Treinos intervalados intensos ou ritmo de 5 km.</p>
                </div>
                <div class="card p-6 rounded-lg shadow-lg">
                    <h3 class="font-bold text-xl mb-2 text-white">üî• 8 ‚Äì Muito, muito forte</h3>
                    <p class="text-gray-400">Sensa√ß√£o: Intensidade elevada, quase insuport√°vel por muito tempo. A respira√ß√£o √© muito ofegante e o corpo pede pausa.<br>Exemplo na corrida: Final de um treino intenso ou esfor√ßo de prova curta.</p>
                </div>
                <div class="card p-6 rounded-lg shadow-lg">
                    <h3 class="font-bold text-xl mb-2 text-white">ÔøΩ 9 ‚Äì Quase m√°ximo</h3>
                    <p class="text-gray-400">Sensa√ß√£o: Voc√™ est√° praticamente no seu limite f√≠sico. Consegue manter esse esfor√ßo por poucos minutos no m√°ximo.<br>Exemplo na corrida: Sprint final em uma prova, esfor√ßo de 400 metros.</p>
                </div>
                <div class="card p-6 rounded-lg shadow-lg">
                    <h3 class="font-bold text-xl mb-2 text-white">‚ö° 10 ‚Äì M√°ximo</h3>
                    <p class="text-gray-400">Sensa√ß√£o: Esfor√ßo total. Seu corpo est√° no seu limite absoluto. √â um esfor√ßo explosivo e insustent√°vel por mais do que alguns segundos.<br>Exemplo na corrida: Sprint total, como em uma prova de 100 metros.</p>
                </div>
            </div>
        </section>
        
        <!-- Sec√ß√£o "A Progress√£o da Sua Jornada" com gr√°ficos -->
        <section id="progression" class="mb-16">
            <h2 class="text-3xl font-bold text-center mb-8 text-white">A progress√£o da sua jornada (18 Semanas)</h2>
            <p class="text-center max-w-3xl mx-auto mb-10 text-gray-300">Sua prepara√ß√£o est√° dividida em 4 fases estrat√©gicas para garantir a melhor performance no TAF.</p>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- Gr√°fico de Evolu√ß√£o do Volume Semanal -->
                <div class="card p-6 rounded-lg shadow-lg">
                    <h3 class="font-bold text-xl mb-4 text-center text-white">Evolu√ß√£o do volume semanal</h3>
                    <div class="chart-container">
                        <canvas id="volumeChart"></canvas>
                    </div>
                    <p class="text-gray-400 text-center mt-4">
                        O gr√°fico representa o aumento gradual do volume total de corrida ao longo das semanas, com uma diminui√ß√£o na fase de taper.
                    </p>
                </div>
                <!-- Gr√°fico de Intensidade: Variedade para a Performance -->
                <div class="card p-6 rounded-lg shadow-lg">
                    <h3 class="font-bold text-xl mb-4 text-center text-white">Intensidade: variedade para a performance</h3>
                    <div class="chart-container">
                        <canvas id="intensityMixChart"></canvas>
                    </div>
                    <p class="text-gray-400 text-center mt-4">
                        O gr√°fico mostra a propor√ß√£o de treinos leves, moderados e fortes em cada fase, ou a evolu√ß√£o da intensidade m√©dia.
                    </p>
                </div>
            </div>
        </section>

        <!-- Sec√ß√£o "Estrutura das Fases de Treinamento" -->
        <section id="weekly-breakdown" class="mb-16">
            <h2 class="text-3xl font-bold text-center mb-8 text-white">Estrutura das fases de treinamento</h2>
            
            <div class="space-y-8">
                <!-- Cart√£o da Fase 1: Constru√ß√£o da Base -->
                <div class="card p-6 rounded-lg shadow-lg">
                    <div class="icon text-4xl mb-3">üèóÔ∏è</div>
                    <h3 class="font-bold text-xl mb-2 text-white">Fase 1: constru√ß√£o da base (semanas 1-6)</h3>
                    <p class="text-gray-400 mb-4">Foco: Construir resist√™ncia fundamental e adaptar o corpo ao esfor√ßo.</p>
                    <ul class="list-disc list-inside text-gray-400 space-y-1">
                        <li>Ter√ßa: Corrida Cont√≠nua (CC) - 30 a 45 min em ritmo leve (progressivo).</li>
                        <li>Quinta: Treino Intervalado (TI) - Foco em est√≠mulos curtos e recupera√ß√£o (ex: 4-8 x 400m).</li>
                        <li>S√°bado: Treino de Tempo (TT) - Introdu√ß√£o ao ritmo alvo, com progress√£o gradual do pace.</li>
                    </ul>
                </div>

                <!-- Cart√£o da Fase 2: Intensifica√ß√£o e Ritmo Espec√≠fico -->
                <div class="card p-6 rounded-lg shadow-lg">
                    <div class="icon text-4xl mb-3">üìà</div>
                    <h3 class="font-bold text-xl mb-2 text-white">Fase 2: intensifica√ß√£o e ritmo espec√≠fico (semanas 7-12)</h3>
                    <p class="text-gray-400 mb-4">Foco: Aumentar a capacidade de suportar intensidade e melhorar o ritmo do TAF.</p>
                    <ul class="list-disc list-inside text-gray-400 space-y-1">
                        <li>Ter√ßa: Corrida Cont√≠nua (CC) - Manuten√ß√£o do volume em ritmo leve.</li>
                        <li>Quinta: Treino Intervalado (TI) - Aumento da dist√¢ncia ou n√∫mero de repeti√ß√µes (ex: 6-8 x 600m).</li>
                        <li>S√°bado: Treino de Tempo (TT) - Aproxima√ß√£o cont√≠nua do pace alvo do TAF.</li>
                    </ul>
                </div>

                <!-- Cart√£o da Fase 3: Polimento e Simula√ß√£o -->
                <div class="card p-6 rounded-lg shadow-lg">
                    <div class="icon text-4xl mb-3">üöÄ</div>
                    <h3 class="font-bold text-xl mb-2 text-white">Fase 3: polimento e simula√ß√£o (semanas 13-17)</h3>
                    <p class="text-gray-400 mb-4">Foco: Refinar o ritmo, aumentar a especificidade e preparar para o pico de performance.</p>
                    <ul class="list-disc list-inside text-gray-400 space-y-1">
                        <li>Ter√ßa: Corrida Cont√≠nua (CC) - Redu√ß√£o gradual do volume.</li>
                        <li>Quinta: Treino Intervalado (TI) - Intervalos mais longos ou mais r√°pidos (ex: 4-5 x 800m).</li>
                        <li>S√°bado: Simula√ß√£o TAF - Testes em dist√¢ncias e tempos variados, focando no pace de prova.</li>
                    </ul>
                </div>

                <!-- Cart√£o da Fase 4: Semana do TAF - Taper -->
                <div class="card p-6 rounded-lg shadow-lg">
                    <div class="icon text-4xl mb-3">üèÜ</div>
                    <h3 class="font-bold text-xl mb-2 text-white">Fase 4: semana do TAF - Taper (semana 18)</h3>
                    <p class="text-gray-400 mb-4">Foco: Recupera√ß√£o total e ativa√ß√£o para o dia da prova.</p>
                    <ul class="list-disc list-inside text-gray-400 space-y-1">
                        <li>Ter√ßa: Corrida Leve - 20 min muito leve para manter o corpo ativo.</li>
                        <li>Quinta: Ativa√ß√£o - Aquecimento leve + 3-4 tiros curtos e progressivos (100m).</li>
                        <li>S√°bado: Descanso Total.</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Sec√ß√£o "Orienta√ß√µes Essenciais" -->
        <section id="reminders" class="mb-16">
            <h2 class="text-3xl font-bold text-center mb-8 text-white">Orienta√ß√µes essenciais para Nicholas</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <!-- Cart√£o: Escute Seu Corpo -->
                <div class="card p-6 rounded-lg shadow-lg text-center">
                    <div class="icon text-4xl mb-3">üëÇ</div>
                    <h3 class="font-bold text-xl mb-2 text-white">Escute seu corpo</h3>
                    <p class="text-gray-400">A dor no tornozelo deve ser monitorada. Se persistir ou piorar, me avise para que a gente verifique qual a melhor decis√£o a ser tomada. O treino deve ser ajustado conforme sua recupera√ß√£o.</p>
                </div>
                <!-- Cart√£o: Hidrata√ß√£o e Nutri√ß√£o -->
                <div class="card p-6 rounded-lg shadow-lg text-center">
                    <div class="icon text-4xl mb-3">üíß</div>
                    <h3 class="font-bold text-xl mb-2 text-white">Hidrata√ß√£o e Nutri√ß√£o</h3>
                    <p class="text-gray-400">Mantenha-se bem hidratado e tenha uma dieta balanceada para energia e recupera√ß√£o.</p>
                </div>
                <!-- Cart√£o: Priorize o Sono -->
                <div class="card p-6 rounded-lg shadow-lg text-center">
                    <div class="icon text-4xl mb-3">üõå</div>
                    <h3 class="font-bold text-xl mb-2 text-white">Priorize o Sono</h3>
                    <p class="text-gray-400">7-9 horas de sono por noite s√£o cruciais para a recupera√ß√£o muscular e hormonal.</p>
                </div>
            </div>
        </section>

        <!-- Bot√£o para aceder √† p√°gina do temporizador -->
        <div class="text-center">
            <button id="goToTimerPageBtn" class="nav-button">Temporizador de Treino</button>
        </div>

        <!-- Rodap√© do infogr√°fico -->
        <footer class="text-center mt-12 pt-8 border-t border-gray-700">
            <p class="text-gray-400">Com foco e dedica√ß√£o, o sucesso no TAF √© garantido!</p>
        </footer>

    </div>

    <!-- P√°gina do Temporizador de Treino (inicialmente oculta) -->
    <div id="timer-app-page" class="timer-page hidden">
        <h1 class="text-4xl md:text-5xl font-black main-title mb-8 text-center">TEMPORIZADOR DE TREINO</h1>

        <!-- Seletores de Semana e Dia -->
        <div class="config-section mb-8">
            <h2 class="text-2xl font-bold text-white mb-4 text-center">Selecionar Treino do Plano</h2>
            <div class="flex flex-col md:flex-row gap-4 mb-4">
                <div class="flex-1">
                    <label for="weekSelect" class="block text-gray-300 text-lg mb-2">Semana:</label>
                    <select id="weekSelect" class="w-full"></select>
                </div>
                <div class="flex-1">
                    <label for="daySelect" class="block text-gray-300 text-lg mb-2">Dia da Semana:</label>
                    <select id="daySelect" class="w-full"></select>
                </div>
            </div>
            <button id="loadSelectedWorkoutBtn" class="nav-button w-full">Carregar Treino Selecionado</button>
        </div>

        <!-- √Årea de exibi√ß√£o do temporizador -->
        <div class="text-center mb-8">
            <p class="phase-display" id="currentPhaseName">Pronto para Iniciar</p>
            <p class="timer-display text-gray-200" id="timeLeftDisplay">00:00</p>
            <p class="text-gray-400 text-lg mt-2" id="phaseInstructions"></p>
            <p class="set-display" id="currentSetDisplay">S√©rie: 0/0</p>
        </div>

        <!-- Controles do temporizador -->
        <div class="timer-controls flex justify-center flex-wrap">
            <button id="startBtn">Iniciar</button>
            <button id="pauseBtn" disabled>Pausar</button>
            <button id="resetBtn">Reiniciar</button>
            <button id="skipBtn" disabled>Pular Fase</button>
            <button id="backToInfographicBtn">Voltar</button>
        </div>

        <!-- Sec√ß√£o de Configura√ß√£o de Treino Personalizado -->
        <div class="config-section mt-8">
            <h2 class="text-2xl font-bold text-white mb-4 text-center">Ou crie/edite seu treino personalizado</h2>
            <div id="phasesContainer" class="space-y-4 mb-4">
                <!-- Fases ser√£o adicionadas aqui via JS -->
            </div>
            <button id="addPhaseBtn" class="add-phase-btn w-full">Adicionar Fase</button>
            <div class="mt-6">
                <label for="numSets" class="block text-gray-300 text-lg mb-2">N√∫mero de S√©ries:</label>
                <input type="number" id="numSets" value="1" min="1" class="w-full p-2 rounded bg-gray-700 text-white border border-gray-600">
            </div>
            <div class="save-load-buttons flex justify-center mt-6">
                <button id="saveConfigBtn">Salvar Configura√ß√£o</button>
                <button id="loadConfigBtn">Carregar Configura√ß√£o</button>
            </div>
        </div>
    </div>

    <script>
        // --- Fun√ß√µes Auxiliares de Tempo ---
        function formatTime(seconds) {
            const minutes = Math.floor(seconds / 60);
            const remainingSeconds = seconds % 60;
            return `${String(minutes).padStart(2, '0')}:${String(remainingSeconds).padStart(2, '0')}`;
        }

        function parseMMSS(mmssString) {
            const parts = mmssString.split(':');
            if (parts.length === 2) {
                const minutes = parseInt(parts[0]) || 0;
                const seconds = parseInt(parts[1]) || 0;
                return (minutes * 60) + seconds;
            }
            return 0; // Retorna 0 se o formato for inv√°lido
        }

        // =============================================
        // VARI√ÅVEIS GLOBAIS
        // =============================================
        let workoutConfig = []; // Array de objetos { name, duration, description, intensity }
        let currentPhaseIndex = 0;
        let currentSet = 1;
        let timeLeft = 0;
        let timerIntervalId = null;
        let isPaused = false;

        // --- Refer√™ncias de Elementos HTML ---
        const mainInfographicPage = document.getElementById('main-infographic-page');
        const timerAppPage = document.getElementById('timer-app-page');
        const goToTimerPageBtn = document.getElementById('goToTimerPageBtn');
        const backToInfographicBtn = document.getElementById('backToInfographicBtn');

        const currentPhaseName = document.getElementById('currentPhaseName');
        const timeLeftDisplay = document.getElementById('timeLeftDisplay');
        const phaseInstructions = document.getElementById('phaseInstructions');
        const currentSetDisplay = document.getElementById('currentSetDisplay');

        const startBtn = document.getElementById('startBtn');
        const pauseBtn = document.getElementById('pauseBtn');
        const resetBtn = document.getElementById('resetBtn');
        const skipBtn = document.getElementById('skipBtn');

        const phasesContainer = document.getElementById('phasesContainer');
        const addPhaseBtn = document.getElementById('addPhaseBtn');
        const numSetsInput = document.getElementById('numSets');
        const saveConfigBtn = document.getElementById('saveConfigBtn');
        const loadConfigBtn = document.getElementById('loadConfigBtn');

        const weekSelect = document.getElementById('weekSelect');
        const daySelect = document.getElementById('daySelect');
        const loadSelectedWorkoutBtn = document.getElementById('loadSelectedWorkoutBtn');

        // --- Defini√ß√£o do Plano de Treino Completo (18 Semanas) ---
        const fullTrainingPlan = {
            // Fase 1: Constru√ß√£o da Base (Semanas 1-6)
            'Semana 1': {
                'Ter√ßa': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada ou trote leve.' }, { name: 'Corrida Cont√≠nua', duration: 30 * 60, intensity: 'Baixa', description: 'Ritmo leve e confort√°vel (PSE 2-3).' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }],
                'Quinta': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Trote leve.' }, { name: 'TI: 4x400m', duration: 105, intensity: 'Alta', description: '400m forte (PSE 7-8).' }, { name: 'Rec: 200m', duration: 90, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 4x400m', duration: 105, intensity: 'Alta', description: '400m forte (PSE 7-8).' }, { name: 'Rec: 200m', duration: 90, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 4x400m', duration: 105, intensity: 'Alta', description: '400m forte (PSE 7-8).' }, { name: 'Rec: 200m', duration: 90, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 4x400m', duration: 105, intensity: 'Alta', description: '400m forte (PSE 7-8).' }, { name: 'Rec: 200m', duration: 90, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }],
                'S√°bado': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Trote leve.' }, { name: 'Treino de Tempo', duration: 12 * 60, intensity: 'Moderada', description: 'Foco no pace alvo de 6:10 min/km.' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }]
            },
            'Semana 2': {
                'Ter√ßa': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada ou trote leve.' }, { name: 'Corrida Cont√≠nua', duration: 35 * 60, intensity: 'Baixa', description: 'Ritmo leve e confort√°vel (PSE 2-3).' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }],
                'Quinta': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Trote leve.' }, { name: 'TI: 5x400m', duration: 105, intensity: 'Alta', description: '400m forte (PSE 7-8).' }, { name: 'Rec: 200m', duration: 90, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 5x400m', duration: 105, intensity: 'Alta', description: '400m forte (PSE 7-8).' }, { name: 'Rec: 200m', duration: 90, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 5x400m', duration: 105, intensity: 'Alta', description: '400m forte (PSE 7-8).' }, { name: 'Rec: 200m', duration: 90, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 5x400m', duration: 105, intensity: 'Alta', description: '400m forte (PSE 7-8).' }, { name: 'Rec: 200m', duration: 90, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 5x400m', duration: 105, intensity: 'Alta', description: '400m forte (PSE 7-8).' }, { name: 'Rec: 200m', duration: 90, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }],
                'S√°bado': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Trote leve.' }, { name: 'Treino de Tempo', duration: 12 * 60, intensity: 'Moderada', description: 'Foco no pace alvo de 6:05 min/km.' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }]
            },
            'Semana 3': {
                'Ter√ßa': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada ou trote leve.' }, { name: 'Corrida Cont√≠nua', duration: 40 * 60, intensity: 'Baixa', description: 'Ritmo leve e confort√°vel (PSE 2-3).' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }],
                'Quinta': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Trote leve.' }, { name: 'TI: 6x400m', duration: 100, intensity: 'Alta', description: '400m forte (PSE 8).' }, { name: 'Rec: 200m', duration: 90, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 6x400m', duration: 100, intensity: 'Alta', description: '400m forte (PSE 8).' }, { name: 'Rec: 200m', duration: 90, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 6x400m', duration: 100, intensity: 'Alta', description: '400m forte (PSE 8).' }, { name: 'Rec: 200m', duration: 90, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 6x400m', duration: 100, intensity: 'Alta', description: '400m forte (PSE 8).' }, { name: 'Rec: 200m', duration: 90, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 6x400m', duration: 100, intensity: 'Alta', description: '400m forte (PSE 8).' }, { name: 'Rec: 200m', duration: 90, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 6x400m', duration: 100, intensity: 'Alta', description: '400m forte (PSE 8).' }, { name: 'Rec: 200m', duration: 90, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }],
                'S√°bado': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Trote leve.' }, { name: 'Treino de Tempo', duration: 12 * 60, intensity: 'Moderada', description: 'Foco no pace alvo de 6:00 min/km.' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }]
            },
            'Semana 4': {
                'Ter√ßa': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada ou trote leve.' }, { name: 'Corrida Cont√≠nua', duration: 45 * 60, intensity: 'Baixa', description: 'Ritmo leve e confort√°vel (PSE 2-3).' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }],
                'Quinta': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Trote leve.' }, { name: 'TI: 7x400m', duration: 100, intensity: 'Alta', description: '400m forte (PSE 8).' }, { name: 'Rec: 200m', duration: 80, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 7x400m', duration: 100, intensity: 'Alta', description: '400m forte (PSE 8).' }, { name: 'Rec: 200m', duration: 80, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 7x400m', duration: 100, intensity: 'Alta', description: '400m forte (PSE 8).' }, { name: 'Rec: 200m', duration: 80, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 7x400m', duration: 100, intensity: 'Alta', description: '400m forte (PSE 8).' }, { name: 'Rec: 200m', duration: 80, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 7x400m', duration: 100, intensity: 'Alta', description: '400m forte (PSE 8).' }, { name: 'Rec: 200m', duration: 80, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 7x400m', duration: 100, intensity: 'Alta', description: '400m forte (PSE 8).' }, { name: 'Rec: 200m', duration: 80, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 7x400m', duration: 100, intensity: 'Alta', description: '400m forte (PSE 8).' }, { name: 'Rec: 200m', duration: 80, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }],
                'S√°bado': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Trote leve.' }, { name: 'Treino de Tempo', duration: 12 * 60, intensity: 'Moderada', description: 'Foco no pace alvo de 5:55 min/km.' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }]
            },
            'Semana 5': {
                'Ter√ßa': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada ou trote leve.' }, { name: 'Corrida Cont√≠nua', duration: 45 * 60, intensity: 'Baixa', description: 'Ritmo leve e confort√°vel (PSE 2-3).' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }],
                'Quinta': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Trote leve.' }, { name: 'TI: 8x400m', duration: 95, intensity: 'Alta', description: '400m forte (PSE 8-9).' }, { name: 'Rec: 200m', duration: 80, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 8x400m', duration: 95, intensity: 'Alta', description: '400m forte (PSE 8-9).' }, { name: 'Rec: 200m', duration: 80, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 8x400m', duration: 95, intensity: 'Alta', description: '400m forte (PSE 8-9).' }, { name: 'Rec: 200m', duration: 80, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 8x400m', duration: 95, intensity: 'Alta', description: '400m forte (PSE 8-9).' }, { name: 'Rec: 200m', duration: 80, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 8x400m', duration: 95, intensity: 'Alta', description: '400m forte (PSE 8-9).' }, { name: 'Rec: 200m', duration: 80, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 8x400m', duration: 95, intensity: 'Alta', description: '400m forte (PSE 8-9).' }, { name: 'Rec: 200m', duration: 80, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 8x400m', duration: 95, intensity: 'Alta', description: '400m forte (PSE 8-9).' }, { name: 'Rec: 200m', duration: 80, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 8x400m', duration: 95, intensity: 'Alta', description: '400m forte (PSE 8-9).' }, { name: 'Rec: 200m', duration: 80, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }],
                'S√°bado': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Trote leve.' }, { name: 'Treino de Tempo', duration: 12 * 60, intensity: 'Moderada', description: 'Foco no pace alvo de 5:50 min/km.' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }]
            },
            'Semana 6': {
                'Ter√ßa': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada ou trote leve.' }, { name: 'Corrida Cont√≠nua', duration: 35 * 60, intensity: 'Baixa', description: 'Semana de recupera√ß√£o. Ritmo leve (PSE 2).' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }],
                'Quinta': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Trote leve.' }, { name: 'TI: 5x400m', duration: 100, intensity: 'Moderada', description: '400m em ritmo controlado (PSE 7).' }, { name: 'Rec: 200m', duration: 90, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 5x400m', duration: 100, intensity: 'Moderada', description: '400m em ritmo controlado (PSE 7).' }, { name: 'Rec: 200m', duration: 90, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 5x400m', duration: 100, intensity: 'Moderada', description: '400m em ritmo controlado (PSE 7).' }, { name: 'Rec: 200m', duration: 90, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 5x400m', duration: 100, intensity: 'Moderada', description: '400m em ritmo controlado (PSE 7).' }, { name: 'Rec: 200m', duration: 90, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 5x400m', duration: 100, intensity: 'Moderada', description: '400m em ritmo controlado (PSE 7).' }, { name: 'Rec: 200m', duration: 90, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }],
                'S√°bado': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Trote leve.' }, { name: 'Treino de Tempo', duration: 10 * 60, intensity: 'Moderada', description: 'Foco no pace alvo de 5:50 min/km.' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }]
            },
            // Fase 2: Intensifica√ß√£o e Ritmo Espec√≠fico (Semanas 7-12)
            'Semana 7': {
                'Ter√ßa': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Trote leve.' }, { name: 'Corrida Cont√≠nua', duration: 45 * 60, intensity: 'Baixa', description: 'Ritmo leve e confort√°vel (PSE 3).' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }],
                'Quinta': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Trote leve.' }, { name: 'TI: 4x600m', duration: 150, intensity: 'Alta', description: '600m forte (PSE 8).' }, { name: 'Rec: 300m', duration: 120, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 4x600m', duration: 150, intensity: 'Alta', description: '600m forte (PSE 8).' }, { name: 'Rec: 300m', duration: 120, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 4x600m', duration: 150, intensity: 'Alta', description: '600m forte (PSE 8).' }, { name: 'Rec: 300m', duration: 120, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 4x600m', duration: 150, intensity: 'Alta', description: '600m forte (PSE 8).' }, { name: 'Rec: 300m', duration: 120, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }],
                'S√°bado': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Trote leve.' }, { name: 'Treino de Tempo', duration: 12 * 60, intensity: 'Moderada', description: 'Foco no pace alvo de 5:45 min/km.' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }]
            },
            'Semana 8': {
                'Ter√ßa': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Trote leve.' }, { name: 'Corrida Cont√≠nua', duration: 45 * 60, intensity: 'Baixa', description: 'Ritmo leve e confort√°vel (PSE 3).' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }],
                'Quinta': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Trote leve.' }, { name: 'TI: 5x600m', duration: 145, intensity: 'Alta', description: '600m forte (PSE 8).' }, { name: 'Rec: 300m', duration: 120, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 5x600m', duration: 145, intensity: 'Alta', description: '600m forte (PSE 8).' }, { name: 'Rec: 300m', duration: 120, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 5x600m', duration: 145, intensity: 'Alta', description: '600m forte (PSE 8).' }, { name: 'Rec: 300m', duration: 120, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 5x600m', duration: 145, intensity: 'Alta', description: '600m forte (PSE 8).' }, { name: 'Rec: 300m', duration: 120, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 5x600m', duration: 145, intensity: 'Alta', description: '600m forte (PSE 8).' }, { name: 'Rec: 300m', duration: 120, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }],
                'S√°bado': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Trote leve.' }, { name: 'Treino de Tempo', duration: 12 * 60, intensity: 'Moderada', description: 'Foco no pace alvo de 5:42 min/km (Pace TAF!).' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }]
            },
            'Semana 9': {
                'Ter√ßa': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Trote leve.' }, { name: 'Corrida Cont√≠nua', duration: 50 * 60, intensity: 'Baixa', description: 'Ritmo leve e confort√°vel (PSE 3).' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }],
                'Quinta': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Trote leve.' }, { name: 'TI: 6x600m', duration: 145, intensity: 'Alta', description: '600m forte (PSE 8-9).' }, { name: 'Rec: 300m', duration: 110, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 6x600m', duration: 145, intensity: 'Alta', description: '600m forte (PSE 8-9).' }, { name: 'Rec: 300m', duration: 110, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 6x600m', duration: 145, intensity: 'Alta', description: '600m forte (PSE 8-9).' }, { name: 'Rec: 300m', duration: 110, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 6x600m', duration: 145, intensity: 'Alta', description: '600m forte (PSE 8-9).' }, { name: 'Rec: 300m', duration: 110, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 6x600m', duration: 145, intensity: 'Alta', description: '600m forte (PSE 8-9).' }, { name: 'Rec: 300m', duration: 110, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 6x600m', duration: 145, intensity: 'Alta', description: '600m forte (PSE 8-9).' }, { name: 'Rec: 300m', duration: 110, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }],
                'S√°bado': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Trote leve.' }, { name: 'Treino de Tempo', duration: 12 * 60, intensity: 'Moderada', description: 'Foco no pace alvo de 5:40 min/km.' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }]
            },
            'Semana 10': {
                'Ter√ßa': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Trote leve.' }, { name: 'Corrida Cont√≠nua', duration: 50 * 60, intensity: 'Baixa', description: 'Ritmo leve e confort√°vel (PSE 3).' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }],
                'Quinta': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Trote leve.' }, { name: 'TI: 4x800m', duration: 200, intensity: 'Alta', description: '800m forte (PSE 8).' }, { name: 'Rec: 400m', duration: 150, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 4x800m', duration: 200, intensity: 'Alta', description: '800m forte (PSE 8).' }, { name: 'Rec: 400m', duration: 150, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 4x800m', duration: 200, intensity: 'Alta', description: '800m forte (PSE 8).' }, { name: 'Rec: 400m', duration: 150, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 4x800m', duration: 200, intensity: 'Alta', description: '800m forte (PSE 8).' }, { name: 'Rec: 400m', duration: 150, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }],
                'S√°bado': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Trote leve.' }, { name: 'Treino de Tempo', duration: 12 * 60, intensity: 'Moderada', description: 'Foco no pace alvo de 5:38 min/km.' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }]
            },
            'Semana 11': {
                'Ter√ßa': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Trote leve.' }, { name: 'Corrida Cont√≠nua', duration: 50 * 60, intensity: 'Baixa', description: 'Ritmo leve e confort√°vel (PSE 3).' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }],
                'Quinta': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Trote leve.' }, { name: 'TI: 5x800m', duration: 195, intensity: 'Alta', description: '800m forte (PSE 8-9).' }, { name: 'Rec: 400m', duration: 150, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 5x800m', duration: 195, intensity: 'Alta', description: '800m forte (PSE 8-9).' }, { name: 'Rec: 400m', duration: 150, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 5x800m', duration: 195, intensity: 'Alta', description: '800m forte (PSE 8-9).' }, { name: 'Rec: 400m', duration: 150, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 5x800m', duration: 195, intensity: 'Alta', description: '800m forte (PSE 8-9).' }, { name: 'Rec: 400m', duration: 150, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 5x800m', duration: 195, intensity: 'Alta', description: '800m forte (PSE 8-9).' }, { name: 'Rec: 400m', duration: 150, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }],
                'S√°bado': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Trote leve.' }, { name: 'Treino de Tempo', duration: 12 * 60, intensity: 'Moderada', description: 'Foco no pace alvo de 5:35 min/km.' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }]
            },
            'Semana 12': {
                'Ter√ßa': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Trote leve.' }, { name: 'Corrida Cont√≠nua', duration: 40 * 60, intensity: 'Baixa', description: 'Semana de recupera√ß√£o. Ritmo leve (PSE 2).' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }],
                'Quinta': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Trote leve.' }, { name: 'TI: 4x600m', duration: 150, intensity: 'Moderada', description: '600m em ritmo controlado (PSE 7).' }, { name: 'Rec: 300m', duration: 120, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 4x600m', duration: 150, intensity: 'Moderada', description: '600m em ritmo controlado (PSE 7).' }, { name: 'Rec: 300m', duration: 120, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 4x600m', duration: 150, intensity: 'Moderada', description: '600m em ritmo controlado (PSE 7).' }, { name: 'Rec: 300m', duration: 120, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 4x600m', duration: 150, intensity: 'Moderada', description: '600m em ritmo controlado (PSE 7).' }, { name: 'Rec: 300m', duration: 120, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }],
                'S√°bado': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Trote leve.' }, { name: 'Treino de Tempo', duration: 10 * 60, intensity: 'Moderada', description: 'Foco no pace alvo de 5:35 min/km.' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }]
            },
            // Fase 3: Polimento e Simula√ß√£o (Semanas 13-17)
            'Semana 13': {
                'Ter√ßa': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Trote leve.' }, { name: 'Corrida Cont√≠nua', duration: 45 * 60, intensity: 'Baixa', description: 'Ritmo leve e confort√°vel (PSE 3).' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }],
                'Quinta': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Trote leve.' }, { name: 'TI: 3x1000m', duration: 240, intensity: 'Alta', description: '1000m forte (PSE 8-9).' }, { name: 'Rec: 500m', duration: 180, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 3x1000m', duration: 240, intensity: 'Alta', description: '1000m forte (PSE 8-9).' }, { name: 'Rec: 500m', duration: 180, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 3x1000m', duration: 240, intensity: 'Alta', description: '1000m forte (PSE 8-9).' }, { name: 'Rec: 500m', duration: 180, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }],
                'S√°bado': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Trote leve.' }, { name: 'Simula√ß√£o TAF', duration: 12 * 60, intensity: 'Alta', description: 'Teste de 12 minutos! Pace alvo: 5:32 min/km ou mais r√°pido.' }, { name: 'Desaquecimento', duration: 5 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }]
            },
            'Semana 14': {
                'Ter√ßa': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Trote leve.' }, { name: 'Corrida Cont√≠nua', duration: 40 * 60, intensity: 'Baixa', description: 'Ritmo leve e confort√°vel (PSE 3).' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }],
                'Quinta': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Trote leve.' }, { name: 'TI: 4x1000m', duration: 235, intensity: 'Alta', description: '1000m forte (PSE 9).' }, { name: 'Rec: 500m', duration: 180, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 4x1000m', duration: 235, intensity: 'Alta', description: '1000m forte (PSE 9).' }, { name: 'Rec: 500m', duration: 180, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 4x1000m', duration: 235, intensity: 'Alta', description: '1000m forte (PSE 9).' }, { name: 'Rec: 500m', duration: 180, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 4x1000m', duration: 235, intensity: 'Alta', description: '1000m forte (PSE 9).' }, { name: 'Rec: 500m', duration: 180, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }],
                'S√°bado': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Trote leve.' }, { name: 'Treino de Tempo', duration: 12 * 60, intensity: 'Moderada', description: 'Foco no pace alvo de 5:30 min/km.' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }]
            },
            'Semana 15': {
                'Ter√ßa': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Trote leve.' }, { name: 'Corrida Cont√≠nua', duration: 35 * 60, intensity: 'Baixa', description: 'Ritmo leve e confort√°vel (PSE 2-3).' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }],
                'Quinta': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Trote leve.' }, { name: 'TI: 5x800m', duration: 190, intensity: 'Alta', description: '800m forte (PSE 9).' }, { name: 'Rec: 400m', duration: 140, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 5x800m', duration: 190, intensity: 'Alta', description: '800m forte (PSE 9).' }, { name: 'Rec: 400m', duration: 140, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 5x800m', duration: 190, intensity: 'Alta', description: '800m forte (PSE 9).' }, { name: 'Rec: 400m', duration: 140, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 5x800m', duration: 190, intensity: 'Alta', description: '800m forte (PSE 9).' }, { name: 'Rec: 400m', duration: 140, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 5x800m', duration: 190, intensity: 'Alta', description: '800m forte (PSE 9).' }, { name: 'Rec: 400m', duration: 140, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }],
                'S√°bado': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Trote leve.' }, { name: 'Simula√ß√£o TAF', duration: 12 * 60, intensity: 'Alta', description: 'Teste de 12 minutos! Pace alvo: 5:28 min/km ou mais r√°pido.' }, { name: 'Desaquecimento', duration: 5 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }]
            },
            'Semana 16': {
                'Ter√ßa': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Trote leve.' }, { name: 'Corrida Cont√≠nua', duration: 30 * 60, intensity: 'Baixa', description: 'Ritmo leve (PSE 2).' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }],
                'Quinta': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Trote leve.' }, { name: 'TI: 6x600m', duration: 140, intensity: 'Alta', description: '600m forte (PSE 9).' }, { name: 'Rec: 300m', duration: 110, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 6x600m', duration: 140, intensity: 'Alta', description: '600m forte (PSE 9).' }, { name: 'Rec: 300m', duration: 110, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 6x600m', duration: 140, intensity: 'Alta', description: '600m forte (PSE 9).' }, { name: 'Rec: 300m', duration: 110, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 6x600m', duration: 140, intensity: 'Alta', description: '600m forte (PSE 9).' }, { name: 'Rec: 300m', duration: 110, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 6x600m', duration: 140, intensity: 'Alta', description: '600m forte (PSE 9).' }, { name: 'Rec: 300m', duration: 110, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 6x600m', duration: 140, intensity: 'Alta', description: '600m forte (PSE 9).' }, { name: 'Rec: 300m', duration: 110, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }],
                'S√°bado': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Trote leve.' }, { name: 'Treino de Tempo', duration: 10 * 60, intensity: 'Moderada', description: 'Foco no pace alvo de 5:25 min/km.' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }]
            },
            'Semana 17': {
                'Ter√ßa': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Trote leve.' }, { name: 'Corrida Cont√≠nua', duration: 25 * 60, intensity: 'Baixa', description: 'Ritmo leve (PSE 2).' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }],
                'Quinta': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Trote leve.' }, { name: 'TI: 5x400m', duration: 90, intensity: 'Alta', description: '400m no pace do TAF (PSE 9).' }, { name: 'Rec: 200m', duration: 90, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 5x400m', duration: 90, intensity: 'Alta', description: '400m no pace do TAF (PSE 9).' }, { name: 'Rec: 200m', duration: 90, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 5x400m', duration: 90, intensity: 'Alta', description: '400m no pace do TAF (PSE 9).' }, { name: 'Rec: 200m', duration: 90, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 5x400m', duration: 90, intensity: 'Alta', description: '400m no pace do TAF (PSE 9).' }, { name: 'Rec: 200m', duration: 90, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'TI: 5x400m', duration: 90, intensity: 'Alta', description: '400m no pace do TAF (PSE 9).' }, { name: 'Rec: 200m', duration: 90, intensity: 'Baixa', description: 'Trote ou caminhada.' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }],
                'S√°bado': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Trote leve.' }, { name: 'Simula√ß√£o TAF', duration: 8 * 60, intensity: 'Alta', description: 'Teste de 8 minutos no pace do TAF ou mais r√°pido.' }, { name: 'Desaquecimento', duration: 5 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }]
            },
            // Fase 4: Taper (Semana 18)
            'Semana 18': {
                'Ter√ßa': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Trote leve.' }, { name: 'Corrida Leve', duration: 20 * 60, intensity: 'Baixa', description: 'Corrida muito leve, apenas para soltar (PSE 1-2).' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }],
                'Quinta': [{ name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Trote leve.' }, { name: 'Ativa√ß√£o', duration: 20, intensity: 'Moderada', description: '3x100m progressivos.' }, { name: 'Recupera√ß√£o', duration: 60, intensity: 'Baixa', description: 'Caminhada.' }, { name: 'Ativa√ß√£o', duration: 20, intensity: 'Moderada', description: '3x100m progressivos.' }, { name: 'Recupera√ß√£o', duration: 60, intensity: 'Baixa', description: 'Caminhada.' }, { name: 'Ativa√ß√£o', duration: 20, intensity: 'Moderada', description: '3x100m progressivos.' }, { name: 'Recupera√ß√£o', duration: 60, intensity: 'Baixa', description: 'Caminhada.' }, { name: 'Desaquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada leve.' }],
                'S√°bado': [{ name: 'Descanso Total', duration: 1, intensity: 'Baixa', description: 'Relaxe e prepare-se para o TAF!' }]
            }
        };


        // --- Fun√ß√µes de Navega√ß√£o de P√°gina ---
        goToTimerPageBtn.addEventListener('click', () => {
            mainInfographicPage.classList.add('hidden');
            timerAppPage.classList.remove('hidden');
            timerAppPage.style.display = 'flex'; // Garante que a p√°gina do temporizador seja exibida como flex
            populateWeekAndDaySelects(); // Preenche os seletores
            loadWorkoutConfig(); // Tenta carregar a √∫ltima configura√ß√£o salva (personalizada)
            updateDisplay(); // Atualiza o display inicial
        });

        backToInfographicBtn.addEventListener('click', () => {
            pauseTimer(); // Pausa o timer ao voltar
            mainInfographicPage.classList.remove('hidden');
            timerAppPage.classList.add('hidden');
            timerAppPage.style.display = 'none'; // Esconde a p√°gina do temporizador
        });

        // --- Fun√ß√µes de Configura√ß√£o do Treino ---

        // Preenche os seletores de semana e dia
        function populateWeekAndDaySelects() {
            // Preencher Semanas
            weekSelect.innerHTML = '';
            for (let i = 1; i <= 18; i++) {
                const option = document.createElement('option');
                option.value = `Semana ${i}`;
                option.textContent = `Semana ${i}`;
                weekSelect.appendChild(option);
            }

            // Preencher Dias (apenas os dias que t√™m treino no plano)
            daySelect.innerHTML = '';
            const days = ['Ter√ßa', 'Quinta', 'S√°bado']; // Dias de treino atualizados
            days.forEach(day => {
                const option = document.createElement('option');
                option.value = day;
                option.textContent = day;
                daySelect.appendChild(option);
            });
        }

        // Adiciona uma nova linha de fase na configura√ß√£o
        function addPhaseRow(phase = { name: '', duration: 0, description: '', intensity: 'Baixa' }) {
            const phaseItem = document.createElement('div');
            phaseItem.className = 'phase-item';
            phaseItem.innerHTML = `
                <div class="flex-1 min-w-[100px]">
                    <label class="block text-gray-400 text-sm mb-1">Nome</label>
                    <input type="text" placeholder="Nome da Fase" value="${phase.name}" class="phase-name-input w-full">
                </div>
                <div class="w-24">
                    <label class="block text-gray-400 text-sm mb-1">Tempo</label>
                    <input type="text" placeholder="MM:SS" value="${formatTime(phase.duration)}" class="phase-duration-input w-full text-center" pattern="\\d{2}:\\d{2}">
                </div>
                <div class="flex-1 min-w-[80px]">
                    <label class="block text-gray-400 text-sm mb-1">Intensidade</label>
                    <select class="phase-intensity-select w-full">
                        <option value="Baixa" ${phase.intensity === 'Baixa' ? 'selected' : ''}>Baixa</option>
                        <option value="Moderada" ${phase.intensity === 'Moderada' ? 'selected' : ''}>Moderada</option>
                        <option value="Alta" ${phase.intensity === 'Alta' ? 'selected' : ''}>Alta</option>
                    </select>
                </div>
                <div class="flex-1 min-w-[150px]">
                    <label class="block text-gray-400 text-sm mb-1">Descri√ß√£o</label>
                    <input type="text" placeholder="Descri√ß√£o da Fase" value="${phase.description}" class="phase-description-input w-full">
                </div>
                <button class="remove-phase-btn">Remover</button>
            `;
            phasesContainer.appendChild(phaseItem);

            // Adiciona event listener para o bot√£o de remover
            phaseItem.querySelector('.remove-phase-btn').addEventListener('click', () => {
                phasesContainer.removeChild(phaseItem);
                updateWorkoutConfigFromUI(); // Atualiza a configura√ß√£o ap√≥s remover
            });

            // Adiciona event listeners para atualizar a configura√ß√£o ao digitar
            phaseItem.querySelectorAll('input, select').forEach(input => {
                input.addEventListener('input', updateWorkoutConfigFromUI);
                input.addEventListener('change', updateWorkoutConfigFromUI);
            });

            updateWorkoutConfigFromUI(); // Atualiza a configura√ß√£o ap√≥s adicionar
        }

        // Atualiza o array workoutConfig com os valores atuais da UI
        function updateWorkoutConfigFromUI() {
            workoutConfig = [];
            phasesContainer.querySelectorAll('.phase-item').forEach(phaseItem => {
                const name = phaseItem.querySelector('.phase-name-input').value;
                const durationMMSS = phaseItem.querySelector('.phase-duration-input').value;
                const duration = parseMMSS(durationMMSS); // Converte MM:SS para segundos
                const intensity = phaseItem.querySelector('.phase-intensity-select').value; // Captura a intensidade
                const description = phaseItem.querySelector('.phase-description-input').value; // Captura a descri√ß√£o
                workoutConfig.push({ name, duration, description, intensity });
            });
        }

        // Renderiza as fases na UI a partir do workoutConfig
        function renderPhasesConfig() {
            phasesContainer.innerHTML = ''; // Limpa as fases existentes
            if (workoutConfig.length === 0) {
                // Adiciona fases padr√£o se n√£o houver nenhuma configurada
                addPhaseRow({ name: 'Aquecimento', duration: 180, description: 'Prepare o corpo para o exerc√≠cio.', intensity: 'Baixa' });
                addPhaseRow({ name: 'Est√≠mulo', duration: 600, description: 'Momento de esfor√ßo intenso.', intensity: 'Alta' });
                addPhaseRow({ name: 'Recupera√ß√£o', duration: 120, description: 'Recupere o f√¥lego ativamente.', intensity: 'Baixa' });
                addPhaseRow({ name: 'Desaquecimento', duration: 180, description: 'Pausa completa antes da pr√≥xima s√©rie.', intensity: 'Baixa' });
            } else {
                workoutConfig.forEach(phase => addPhaseRow(phase));
            }
        }

        // Salva a configura√ß√£o no localStorage
        saveConfigBtn.addEventListener('click', () => {
            updateWorkoutConfigFromUI();
            localStorage.setItem('customWorkoutConfig', JSON.stringify(workoutConfig));
            localStorage.setItem('customNumSets', numSetsInput.value);
            alert('Configura√ß√£o salva com sucesso!');
        });

        // Carrega a configura√ß√£o do localStorage (personalizada)
        function loadWorkoutConfig() { // Definida no escopo global
            const savedConfig = localStorage.getItem('customWorkoutConfig');
            const savedNumSets = localStorage.getItem('customNumSets');
            if (savedConfig) {
                workoutConfig = JSON.parse(savedConfig);
                numSetsInput.value = savedNumSets || 1;
                renderPhasesConfig();
                resetTimer(); // Reinicia o timer com a nova configura√ß√£o
            }
        }

        loadConfigBtn.addEventListener('click', () => { // Event listener para o bot√£o de carregar
            loadWorkoutConfig();
            alert('Configura√ß√£o personalizada carregada!'); // Adicionado de volta para o clique do bot√£o
        });

        // Carrega o treino do plano completo com base na sele√ß√£o
        loadSelectedWorkoutBtn.addEventListener('click', () => {
            const selectedWeek = weekSelect.value;
            const selectedDay = daySelect.value;
            
            if (fullTrainingPlan[selectedWeek] && fullTrainingPlan[selectedWeek][selectedDay]) {
                workoutConfig = fullTrainingPlan[selectedWeek][selectedDay];
                numSetsInput.value = 1; // Treinos do plano geralmente s√£o 1 s√©rie, ajuste se necess√°rio
                renderPhasesConfig();
                alert(`Treino de ${selectedDay} da ${selectedWeek} carregado!`);
                resetTimer(); // Reinicia o timer com o treino carregado
            } else {
                alert('Treino n√£o encontrado para a sele√ß√£o. Por favor, verifique o plano.');
            }
        });

        // Adiciona fase ao clicar no bot√£o
        addPhaseBtn.addEventListener('click', () => addPhaseRow());

        // --- Fun√ß√µes do Temporizador ---

        // Aplica a cor ao display do temporizador com base na intensidade
        function applyTimerColor(intensity) {
            const displayElement = timeLeftDisplay;
            const phaseNameElement = currentPhaseName;

            // Remove todas as classes de cor existentes
            displayElement.classList.remove('text-green-500', 'text-yellow-500', 'text-red-500', 'text-gray-200');
            phaseNameElement.classList.remove('text-green-500', 'text-yellow-500', 'text-red-500');

            switch (intensity) {
                case 'Baixa':
                    displayElement.classList.add('text-green-500');
                    phaseNameElement.classList.add('text-green-500');
                    break;
                case 'Moderada':
                    displayElement.classList.add('text-yellow-500');
                    phaseNameElement.classList.add('text-yellow-500');
                    break;
                case 'Alta':
                    displayElement.classList.add('text-red-500');
                    phaseNameElement.classList.add('text-red-500');
                    break;
                default:
                    // Cor padr√£o se a intensidade n√£o for reconhecida ou n√£o estiver definida
                    displayElement.classList.add('text-gray-200');
                    phaseNameElement.classList.add('text-gray-200'); // Volta para a cor padr√£o do texto
                    break;
            }
        }

        function updateDisplay() {
            const totalSets = parseInt(numSetsInput.value);
            currentSetDisplay.textContent = `S√©rie: ${currentSet}/${totalSets}`;
            timeLeftDisplay.textContent = formatTime(timeLeft);

            if (workoutConfig.length > 0) {
                const currentPhase = workoutConfig[currentPhaseIndex];
                currentPhaseName.textContent = currentPhase.name;
                phaseInstructions.textContent = currentPhase.description || ''; // Exibe a descri√ß√£o
                applyTimerColor(currentPhase.intensity); // Aplica a cor aqui
            } else {
                currentPhaseName.textContent = "Nenhuma Fase Configurada";
                phaseInstructions.textContent = ""; // Limpa a descri√ß√£o
                applyTimerColor(null); // Reseta a cor se n√£o houver fase
            }
        }

        function nextPhase() {
            currentPhaseIndex++;
            if (currentPhaseIndex >= workoutConfig.length) {
                currentPhaseIndex = 0; // Volta para a primeira fase
                currentSet++; // Avan√ßa para a pr√≥xima s√©rie
            }

            const totalSets = parseInt(numSetsInput.value);
            if (currentSet > totalSets) {
                // Treino conclu√≠do
                clearInterval(timerIntervalId);
                timerIntervalId = null;
                currentPhaseName.textContent = "Treino Conclu√≠do!";
                timeLeftDisplay.textContent = "00:00";
                currentSetDisplay.textContent = `Parab√©ns! ${totalSets} S√©ries Completas.`;
                startBtn.disabled = true;
                pauseBtn.disabled = true;
                skipBtn.disabled = true;
                applyTimerColor(null); // Reseta a cor final
                return;
            }

            timeLeft = workoutConfig[currentPhaseIndex].duration;
            updateDisplay();
        }

        function startTimer() {
            if (timerIntervalId) return; // J√° est√° a correr
            if (workoutConfig.length === 0 || workoutConfig.every(phase => phase.duration === 0)) {
                alert("Por favor, configure pelo menos uma fase de treino com dura√ß√£o v√°lida.");
                return;
            }

            startBtn.disabled = true;
            pauseBtn.disabled = false;
            resetBtn.disabled = false;
            skipBtn.disabled = false;
            isPaused = false;

            // Se o timer est√° a come√ßar pela primeira vez ou ap√≥s um reset,
            // define o tempo inicial e toca a m√∫sica da primeira fase.
            if (timeLeft === 0 && currentSet === 1 && currentPhaseIndex === 0) {
                timeLeft = workoutConfig[currentPhaseIndex].duration;
            }
            
            updateDisplay();

            timerIntervalId = setInterval(() => {
                timeLeft--;
                updateDisplay();

                if (timeLeft <= 0) {
                    nextPhase();
                }
            }, 1000);
        }

        function pauseTimer() {
            clearInterval(timerIntervalId);
            timerIntervalId = null;
            isPaused = true;
            startBtn.disabled = false;
            pauseBtn.disabled = true;
        }

        function resetTimer() {
            clearInterval(timerIntervalId);
            timerIntervalId = null;
            currentPhaseIndex = 0;
            currentSet = 1;
            timeLeft = 0;
            isPaused = false;
            updateDisplay();
            startBtn.disabled = false;
            pauseBtn.disabled = true;
            resetBtn.disabled = false;
            skipBtn.disabled = true;
            applyTimerColor(null); // Reseta a cor no reset
        }

        function skipPhase() {
            clearInterval(timerIntervalId);
            timerIntervalId = null; // Garante que o timer √© parado antes de avan√ßar
            nextPhase(); // Avan√ßa para a pr√≥xima fase
            if (currentSet <= parseInt(numSetsInput.value)) { // S√≥ inicia se o treino n√£o estiver conclu√≠do
                startTimer(); // Inicia o timer para a nova fase
            }
        }

        // --- Event Listeners dos Bot√µes de Controle ---
        startBtn.addEventListener('click', startTimer);
        pauseBtn.addEventListener('click', pauseTimer);
        resetBtn.addEventListener('click', resetTimer);
        skipBtn.addEventListener('click', skipPhase);


        // --- L√≥gica dos Gr√°ficos ---
        // Dados para o gr√°fico de volume (ilustrativo para 18 semanas)
        const volumeData = {
            labels: Array.from({length: 18}, (_, i) => `Semana ${i + 1}`),
            datasets: [{
                label: 'Volume de Corrida (min)',
                data: [
                    52, 58, 64, 70, 73, 55, // Fase 1
                    76, 76, 82, 82, 82, 67, // Fase 2
                    79, 73, 68, 59, 52, 26  // Fase 3 e 4
                ],
                borderColor: '#EF4444',
                backgroundColor: 'rgba(239, 68, 68, 0.2)',
                fill: true,
                tension: 0.3
            }]
        };

        // Dados para o gr√°fico de intensidade (ilustrativo por fase)
        const intensityData = {
            labels: ['Fase 1 (Base)', 'Fase 2 (Intensifica√ß√£o)', 'Fase 3 (Polimento)', 'Fase 4 (Taper)'],
            datasets: [
                {
                    label: 'Treino Leve (%)',
                    data: [65, 55, 45, 80], // Propor√ß√£o fict√≠cia de treinos leves por fase
                    backgroundColor: 'rgba(107, 114, 128, 0.7)', // Cinza para leve
                    borderColor: 'rgba(107, 114, 128, 1)',
                    borderWidth: 1
                },
                {
                    label: 'Treino Moderado/Forte (%)',
                    data: [35, 45, 55, 20], // Propor√ß√£o fict√≠cia de treinos moderados/fortes
                    backgroundColor: 'rgba(239, 68, 68, 0.7)', // Vermelho para moderado/forte
                    borderColor: 'rgba(239, 68, 68, 1)',
                    borderWidth: 1
                }
            ]
        };

        // Op√ß√µes comuns para os gr√°ficos (cores de texto, grades, etc.)
        const commonChartOptions = {
            maintainAspectRatio: false,
            responsive: true,
            plugins: {
                legend: {
                    labels: {
                        color: '#D1D5DB' // Cor do texto da legenda
                    }
                },
                tooltip: {
                    callbacks: {
                        title: (tooltipItems) => {
                            const item = tooltipItems[0];
                            let label = item.chart.data.labels[item.dataIndex];
                            return Array.isArray(label) ? label.join(' ') : label;
                        }
                    }
                }
            },
            scales: {
                y: {
                    beginAtZero: true,
                    ticks: { color: '#9CA3AF' }, // Cor do texto dos ticks do eixo Y
                    grid: { color: 'rgba(255, 255, 255, 0.1)' } // Cor das linhas de grade
                },
                x: {
                    ticks: { color: '#9CA3AF' }, // Cor do texto dos ticks do eixo X
                    grid: { color: 'rgba(255, 255, 255, 0.1)' } // Cor das linhas de grade
                }
            }
        };

        // Inicializa os gr√°ficos ao carregar o DOM
        document.addEventListener('DOMContentLoaded', () => {
            // Gr√°fico de Volume
            const volumeChartCtx = document.getElementById('volumeChart');
            if (volumeChartCtx) {
                new Chart(volumeChartCtx, {
                    type: 'line',
                    data: volumeData,
                    options: {
                        ...commonChartOptions,
                        scales: {
                            y: { ...commonChartOptions.scales.y, title: { display: true, text: 'Minutos', color: '#9CA3AF' } },
                            x: { ...commonChartOptions.scales.x }
                        }
                    }
                });
            }

            // Gr√°fico de Intensidade
            const intensityMixChartCtx = document.getElementById('intensityMixChart');
            if (intensityMixChartCtx) {
                new Chart(intensityMixChartCtx, {
                    type: 'bar', // Gr√°fico de barras
                    data: intensityData,
                    options: {
                        ...commonChartOptions,
                        scales: {
                            x: {
                                stacked: true, // Barras empilhadas
                                ticks: { color: '#9CA3AF' },
                                grid: { color: 'rgba(255, 255, 255, 0.1)' }
                            },
                            y: {
                                stacked: true, // Barras empilhadas
                                ticks: { color: '#9CA3AF', callback: function(value) { return value + '%'; } }, // Adiciona % nos ticks
                                grid: { color: 'rgba(255, 255, 255, 0.1)' },
                                title: { display: true, text: 'Porcentagem (%)', color: '#9CA3AF' }
                            }
                        },
                        plugins: {
                            ...commonChartOptions.plugins,
                            tooltip: {
                                mode: 'index',
                                intersect: false,
                                callbacks: {
                                    label: function(context) {
                                        let label = context.dataset.label || '';
                                        if (label) {
                                            label += ': ';
                                        }
                                        if (context.parsed.y !== null) {
                                            label += context.parsed.y + '%';
                                        }
                                        return label;
                                    }
                                }
                            }
                        }
                    }
                });
            }
        });
    </script>
</body>
</html>
ÔøΩ


